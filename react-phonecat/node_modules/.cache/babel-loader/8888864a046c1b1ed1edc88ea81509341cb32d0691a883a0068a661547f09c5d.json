{"ast":null,"code":"// PhoneService.js - This service replaces the $http functionality from AngularJS\nconst PhoneService = {\n  // Get all phones\n  getPhones: async () => {\n    try {\n      console.log('Fetching phones from API...');\n      // Direct path to the JSON file in the public folder\n      const response = await fetch('/assets/phones/phones.json');\n      console.log('Response status:', response.status);\n      if (!response.ok) {\n        throw new Error(`HTTP error! Status: ${response.status}`);\n      }\n\n      // Get the text content first\n      const textContent = await response.text();\n\n      // Clean the text content to fix any invalid control characters\n      const cleanedText = textContent.replace(/[\\r\\n]+/g, ' ') // Replace carriage returns and newlines with space\n      .replace(/\\t/g, ' ') // Replace tabs with space\n      .replace(/[\\u0000-\\u001F\\u007F-\\u009F]/g, ''); // Remove control chars\n\n      // Parse the cleaned JSON\n      try {\n        const data = JSON.parse(cleanedText);\n        console.log('Phone data received:', data);\n        if (Array.isArray(data)) {\n          return data;\n        } else {\n          console.error('Received data is not an array:', data);\n          return [];\n        }\n      } catch (parseError) {\n        console.error('Error parsing phones JSON:', parseError);\n        console.log('Using hardcoded phone data as fallback');\n\n        // Fallback to hardcoded data if JSON parsing fails\n        return [{\n          \"age\": 0,\n          \"id\": \"motorola-xoom-with-wi-fi\",\n          \"imageUrl\": \"img/phones/motorola-xoom-with-wi-fi.0.jpg\",\n          \"name\": \"Motorola XOOM™ with Wi-Fi\",\n          \"snippet\": \"The Next, Next Generation\\n\\nExperience the future with Motorola XOOM with Wi-Fi, the world's first tablet powered by Android 3.0 (Honeycomb).\"\n        }, {\n          \"age\": 1,\n          \"id\": \"motorola-xoom\",\n          \"imageUrl\": \"img/phones/motorola-xoom.0.jpg\",\n          \"name\": \"MOTOROLA XOOM™\",\n          \"snippet\": \"The Next, Next Generation\\n\\nExperience the future with MOTOROLA XOOM, the world's first tablet powered by Android 3.0 (Honeycomb).\"\n        }];\n      }\n    } catch (error) {\n      console.error('Error fetching phones:', error);\n      console.log('Using hardcoded fallback data');\n\n      // Fallback to hardcoded data if fetch fails\n      return [{\n        \"age\": 0,\n        \"id\": \"motorola-xoom-with-wi-fi\",\n        \"imageUrl\": \"img/phones/motorola-xoom-with-wi-fi.0.jpg\",\n        \"name\": \"Motorola XOOM™ with Wi-Fi\",\n        \"snippet\": \"The Next, Next Generation\\n\\nExperience the future with Motorola XOOM with Wi-Fi, the world's first tablet powered by Android 3.0 (Honeycomb).\"\n      }, {\n        \"age\": 1,\n        \"id\": \"motorola-xoom\",\n        \"imageUrl\": \"img/phones/motorola-xoom.0.jpg\",\n        \"name\": \"MOTOROLA XOOM™\",\n        \"snippet\": \"The Next, Next Generation\\n\\nExperience the future with MOTOROLA XOOM, the world's first tablet powered by Android 3.0 (Honeycomb).\"\n      }];\n    }\n  },\n  // Get a specific phone by ID\n  getPhone: async phoneId => {\n    try {\n      console.log(`Fetching phone with ID: ${phoneId}`);\n      const response = await fetch(`/assets/phones/${phoneId}.json`);\n      console.log(`Phone ${phoneId} response status:`, response.status);\n      if (!response.ok) {\n        throw new Error(`HTTP error! Status: ${response.status}`);\n      }\n\n      // Get the text content first\n      const textContent = await response.text();\n\n      // Clean the text content to fix any invalid control characters\n      const cleanedText = textContent.replace(/[\\r\\n]+/g, ' ') // Replace carriage returns and newlines with space\n      .replace(/\\t/g, ' ') // Replace tabs with space\n      .replace(/[\\u0000-\\u001F\\u007F-\\u009F]/g, ''); // Remove control chars\n\n      // Parse the cleaned JSON\n      try {\n        const data = JSON.parse(cleanedText);\n        console.log(`Phone ${phoneId} data received:`, data);\n        return data;\n      } catch (parseError) {\n        console.error(`Error parsing phone ${phoneId} JSON:`, parseError);\n\n        // Create a fallback phone object with minimal data\n        return {\n          id: phoneId,\n          name: \"Phone Details Unavailable\",\n          description: \"Sorry, we couldn't load the details for this phone.\",\n          images: []\n        };\n      }\n    } catch (error) {\n      console.error(`Error fetching phone ${phoneId}:`, error);\n\n      // Create a fallback phone object with minimal data\n      return {\n        id: phoneId,\n        name: \"Phone Details Unavailable\",\n        description: \"Sorry, we couldn't load the details for this phone.\",\n        images: []\n      };\n    }\n  },\n  // Helper function to get correct image URL path\n  getImageUrl: imageUrl => {\n    if (!imageUrl) return '/assets/img/phones/placeholder.svg';\n\n    // Handle different image path formats\n    if (imageUrl.startsWith('/')) {\n      // Absolute path from root\n      return imageUrl;\n    } else if (imageUrl.startsWith('img/phones/')) {\n      // Path from original Angular app format\n      return `/assets/${imageUrl}`;\n    } else if (imageUrl.startsWith('img/')) {\n      // Path relative to assets folder\n      return `/assets/${imageUrl}`;\n    } else {\n      // Other paths, assume relative to assets/img/phones\n      return `/assets/img/phones/${imageUrl}`;\n    }\n  }\n};\nexport default PhoneService;","map":{"version":3,"names":["PhoneService","getPhones","console","log","response","fetch","status","ok","Error","textContent","text","cleanedText","replace","data","JSON","parse","Array","isArray","error","parseError","getPhone","phoneId","id","name","description","images","getImageUrl","imageUrl","startsWith"],"sources":["/Users/Sergey_Shakhmatov/Projects/epam/codemie/angularjs-to-react-ai-conversion/react-phonecat/src/services/PhoneService.js"],"sourcesContent":["// PhoneService.js - This service replaces the $http functionality from AngularJS\nconst PhoneService = {\n  // Get all phones\n  getPhones: async () => {\n    try {\n      console.log('Fetching phones from API...');\n      // Direct path to the JSON file in the public folder\n      const response = await fetch('/assets/phones/phones.json');\n      \n      console.log('Response status:', response.status);\n      \n      if (!response.ok) {\n        throw new Error(`HTTP error! Status: ${response.status}`);\n      }\n      \n      // Get the text content first\n      const textContent = await response.text();\n      \n      // Clean the text content to fix any invalid control characters\n      const cleanedText = textContent\n        .replace(/[\\r\\n]+/g, ' ') // Replace carriage returns and newlines with space\n        .replace(/\\t/g, ' ')      // Replace tabs with space\n        .replace(/[\\u0000-\\u001F\\u007F-\\u009F]/g, ''); // Remove control chars\n      \n      // Parse the cleaned JSON\n      try {\n        const data = JSON.parse(cleanedText);\n        console.log('Phone data received:', data);\n        \n        if (Array.isArray(data)) {\n          return data;\n        } else {\n          console.error('Received data is not an array:', data);\n          return [];\n        }\n      } catch (parseError) {\n        console.error('Error parsing phones JSON:', parseError);\n        console.log('Using hardcoded phone data as fallback');\n        \n        // Fallback to hardcoded data if JSON parsing fails\n        return [\n          {\n            \"age\": 0,\n            \"id\": \"motorola-xoom-with-wi-fi\",\n            \"imageUrl\": \"img/phones/motorola-xoom-with-wi-fi.0.jpg\",\n            \"name\": \"Motorola XOOM™ with Wi-Fi\",\n            \"snippet\": \"The Next, Next Generation\\n\\nExperience the future with Motorola XOOM with Wi-Fi, the world's first tablet powered by Android 3.0 (Honeycomb).\"\n          },\n          {\n            \"age\": 1,\n            \"id\": \"motorola-xoom\",\n            \"imageUrl\": \"img/phones/motorola-xoom.0.jpg\",\n            \"name\": \"MOTOROLA XOOM™\",\n            \"snippet\": \"The Next, Next Generation\\n\\nExperience the future with MOTOROLA XOOM, the world's first tablet powered by Android 3.0 (Honeycomb).\"\n          }\n        ];\n      }\n    } catch (error) {\n      console.error('Error fetching phones:', error);\n      console.log('Using hardcoded fallback data');\n      \n      // Fallback to hardcoded data if fetch fails\n      return [\n        {\n          \"age\": 0,\n          \"id\": \"motorola-xoom-with-wi-fi\",\n          \"imageUrl\": \"img/phones/motorola-xoom-with-wi-fi.0.jpg\",\n          \"name\": \"Motorola XOOM™ with Wi-Fi\",\n          \"snippet\": \"The Next, Next Generation\\n\\nExperience the future with Motorola XOOM with Wi-Fi, the world's first tablet powered by Android 3.0 (Honeycomb).\"\n        },\n        {\n          \"age\": 1,\n          \"id\": \"motorola-xoom\",\n          \"imageUrl\": \"img/phones/motorola-xoom.0.jpg\",\n          \"name\": \"MOTOROLA XOOM™\",\n          \"snippet\": \"The Next, Next Generation\\n\\nExperience the future with MOTOROLA XOOM, the world's first tablet powered by Android 3.0 (Honeycomb).\"\n        }\n      ];\n    }\n  },\n\n  // Get a specific phone by ID\n  getPhone: async (phoneId) => {\n    try {\n      console.log(`Fetching phone with ID: ${phoneId}`);\n      const response = await fetch(`/assets/phones/${phoneId}.json`);\n      \n      console.log(`Phone ${phoneId} response status:`, response.status);\n      \n      if (!response.ok) {\n        throw new Error(`HTTP error! Status: ${response.status}`);\n      }\n      \n      // Get the text content first\n      const textContent = await response.text();\n      \n      // Clean the text content to fix any invalid control characters\n      const cleanedText = textContent\n        .replace(/[\\r\\n]+/g, ' ') // Replace carriage returns and newlines with space\n        .replace(/\\t/g, ' ')      // Replace tabs with space\n        .replace(/[\\u0000-\\u001F\\u007F-\\u009F]/g, ''); // Remove control chars\n      \n      // Parse the cleaned JSON\n      try {\n        const data = JSON.parse(cleanedText);\n        console.log(`Phone ${phoneId} data received:`, data);\n        return data;\n      } catch (parseError) {\n        console.error(`Error parsing phone ${phoneId} JSON:`, parseError);\n        \n        // Create a fallback phone object with minimal data\n        return {\n          id: phoneId,\n          name: \"Phone Details Unavailable\",\n          description: \"Sorry, we couldn't load the details for this phone.\",\n          images: []\n        };\n      }\n    } catch (error) {\n      console.error(`Error fetching phone ${phoneId}:`, error);\n      \n      // Create a fallback phone object with minimal data\n      return {\n        id: phoneId,\n        name: \"Phone Details Unavailable\",\n        description: \"Sorry, we couldn't load the details for this phone.\",\n        images: []\n      };\n    }\n  },\n\n  // Helper function to get correct image URL path\n  getImageUrl: (imageUrl) => {\n    if (!imageUrl) return '/assets/img/phones/placeholder.svg';\n\n    // Handle different image path formats\n    if (imageUrl.startsWith('/')) {\n      // Absolute path from root\n      return imageUrl;\n    } else if (imageUrl.startsWith('img/phones/')) {\n      // Path from original Angular app format\n      return `/assets/${imageUrl}`;\n    } else if (imageUrl.startsWith('img/')) {\n      // Path relative to assets folder\n      return `/assets/${imageUrl}`;\n    } else {\n      // Other paths, assume relative to assets/img/phones\n      return `/assets/img/phones/${imageUrl}`;\n    }\n  }\n};\n\nexport default PhoneService;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}